<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="ATMI++ offers a c++ wrapping of Oracle Tuxedo ATMI C libraries." />
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Atmi++ by HerbertKoelman</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Atmi++</h1>
        <h2>Tuxedo ATMI C++ wrapper</h2>
        <a href="https://github.com/HerbertKoelman/atmiplusplus" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
<h3>Welcome to Tuxedo ATMI++ C++ library.</h3>

<p>
<a href="http://en.wikipedia.org/wiki/Tuxedo_(software)">Tuxedo (Transactions for Unix, Extended for Distributed Operations)</a> is a middleware platform used to manage distributed transaction processing in distributed computing environments. Tuxedo is a transaction processing system or transaction-oriented middleware, or enterprise application server for a variety of systems and programming languages. Developed by AT&T in the 1980s, it became a software product of Oracle Corporation in 2008.
<p>
ATMI, for Application-to-Transaction Monitor Interface, is the main API for the Tuxedo system. It includes transaction management functions (routines, verbs); request/response, conversational, queuing, and publish-and-subscribe message-handling functions; service interface functions; and buffer management functions for distributed application communication.
<p>
ATMI++ is a C++ wrapping of this API,  adding strong typing of FML buffers and adding the use of exceptions to detect and handle error conditions. This should help making it easier to write fast and rock solid Tuxedo software.
<p>
You can download a binary version v2.1 for linux <a href="https://github.com/downloads/HerbertKoelman/atmiplusplus/atmi++-v2.1-linux-gnu.tar.gz">here</a>. The API documentation is available <a href="http://herbertkoelman.github.com/atmiplusplus/api">here</a>.
	
<h3>Project's content</h4>

<P>
	The library is divided into a very simple set of classes: 
<ul>
	<li><strong>Tuxedo</strong>, 
	<li><strong>Tp</strong>,
	<li><strong>Event</strong> 
	<li><strong>Queue</strong>.
</ul>
	Each one is handling one category of ATMI calls.
</P>

<P>Base class <B>Tuxedo</B> implements all the common calls of ATMI (like tpinit). Specialized class <B>Tp</B> extends the base class <B>Tuxedo</B> with everything needed to call services. <B>Queue</B> class extends base class <B>Tuxedo</B> to offer functions to queue and dequeue messages. The <B>Event</B> class extends <B>Tuxedo</B> class with operations to send, post and broadcast events.</P>

<P>ATMI errors handling is based upon C++ exception classes. This way, it makes it much easier to handle errors conditions.</P>

<H3>Getting started</A></H4>

<pre><code>
$ git clone https://github.com/HerbertKoelman/atmiplusplus.git atmi++
$ cd atmi++
$ configure
$ make
$ make install
</code></pre>

The project's sample code can be compiled with make demos.

<h3>Code sample</h3>

C++ sample code
<PRE><code>
#include &lt;string.h&gt;
#include &lt;iostream&gt;
#include &quot;atmi++.h&quot;

using namespace std;
using namespace atmi;

class TPtest : public AbstractClient {
public:

  TPtest () : AbstractClient ("tptest"){
  };

    void run () {

      int ret = -1;
      cout << "Starting client program tptest." << endl;

      try {

        Tp tp ( "TOUPPER" );
        int urcode = 0;

        Buffer buffer;

        TField<string> name ( "EMPNAME" );
        name = "Herbert";

        buffer.add ( &name );

        cout << "  Calling service TOUPPER (" << name  << "), context: " << get_context() << "." << endl;

        try {

          tp.begin();

          ret = tp.call ( &buffer );
          switch (ret) {
            case 0:
              break;
            case -1:
              cerr << "  TOUPPER returned TPFAIL." << endl;
              break;
            default:
              cerr << "  TOUPPER returned URCODE: " << ret << endl;
              cout << "  Call returned: " << endl;
              buffer.print();
          }

          buffer.get ( &name );
          cout << "  Call returned: " << name << "." << endl;

          tp.commit();
          cout << "  Transcation was committed." << endl ;
        } catch ( ... ){
          tp.abort();
          cout << "  Transcation was aborted." << endl ;
          throw;
        }

    } catch ( ServiceException& serr ) {
      cerr << "  Service Exception catched. tpcall failed." << endl;
      cerr << "  What: " << serr.what () << endl;
    } catch ( TuxedoException& terr ) {
      cerr << "  Tuxedo Exception catched. tpcall failed." << endl;
      cerr << "  What: " << terr.what () << ". " << terr.getTperrdetail() << endl;
    } catch ( Exception &err ){
      cerr << "  Exception catched. tpcall failed." << endl;
      cerr << "  What: " << err.what () << "." << endl;
    }

    cout << "Ending program." << endl;
  };
};

int main ( int argc, char **argv ) {

  int ret = 0;

  try {

                cout << "using lib ATMI++ " << Tuxedo::version() << endl ;
    TPtest tp;
    ret = tp.run ( argc, argv );

  } catch ( Exception& err ) {
    cerr << err.what () << endl;
  } catch (exception uerr ) {
    cerr << uerr.what() << endl;
  };

  return ret;
}

</PRE>
</code>


<h3>Authors and Contributors</h3>

<p>Herbert Koelman is chief software architect at La Banque Postale and is in charge of supervising some of the Tuxedo developments. He started ATMI++ in order to enhance the robustness of the Tuxedo code that was produced by IT Service providers.</p>

<h3>License</h3>

<p></p>ATMI++ is free software, you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

ATMI++ is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with ATMI++; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
</p>

        </section>

        <aside id="sidebar">
          <a href="https://github.com/HerbertKoelman/atmiplusplus/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/HerbertKoelman/atmiplusplus/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/HerbertKoelman/atmiplusplus"></a> is maintained by <a href="https://github.com/HerbertKoelman">Herbert Koelman</a>.</p>

          <p></p>Having trouble with ATMI++ ? Send your suggestions or issues <a href="https://github.com/HerbertKoelman/atmiplusplus">here</a> or contact <a href="mailto:woodman.9167@me.com">woodman.9167@me.com</a> and Iâ€™ll help you sort it out.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("atmi c++ oracle bea tuxedo oltp");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
