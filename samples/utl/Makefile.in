# $Revision: 44 $ $Author: hkoelman $
#
# builds simple application server and clients

.SUFFIXES:.V .v
# Build client -> bcl
.SUFFIXES:.bcl
# Build server -> bsr
.SUFFIXES:.bsr

BASEDIR=../../
XREFDIR=${BASEDIR}/xref/
UDATAOBJ=$(BASEDIR)/udataobj/
BINDIR=$(BASEDIR)/bin/
APPDIR=$(BASEDIR)/app/
INCDIR=$(BASEDIR)/include/
LIBDIR=$(BASEDIR)/lib/
LOCALEDIR=${BASEDIR}/locale

# Tuxedo
TUXLIB=$(TUXDIR)/lib
TUXINC=$(TUXDIR)/include

INCDIRS=-I $(TUXDIR)/include -I $(INCDIR)
LIBDIRS=-L $(LIBDIR) -L$(TUXLIB)

CC=@CC@
CCC=@CXX@
RANLIB=@RANLIB@
RM=rm -f
AR=@AR@
BEAUTIFIER=@BEAUTIFIER@

DEBUG=-g -bnoquiet

CFLAGS=@CFLAGS@
CXXFLAGS=@CXXFLAGS@
CCFLAGS=@CXXFLAGS@
LDFLAGS=@LDFLAGS@
LDLIBS=@LIBS@

TARGETS=load_config_file

all:${TARGETS}

clean:
	${RM} *.o core *.a

globber:
	${RM} *.o core *.a
	${RM} ${TARGETS}
	$(RM) *unc-backup*~ *unc-backup*~

cxref:
	cxref *.c -xref -index-all -latex209 -O${XREFDIR} -I${INCDIR} -I${INCTUX}

beautifull:
	${BEAUTIFIER} *.cpp
