/* $Id$

   Sample Tuxedo client using ATMI++ libray.

 */
#include <string>
#include <iostream>
#include "atmi/atmi++.hpp"

#include "sample_fml_table.h"

// main -------------------------------------------------

int main ( int argc, char **argv ) {

  try {

    std::cout << "exceptions sample program (" << atmi::cpp_atmi_version() <<")." << std::endl;
    std::cerr << std::endl ;

    // atmi::buffer_exception err(4, "Error number %d.", 4);
    atmi::diagnostic_exception err(TPEDIAGNOSTIC,  QMEINVAL, "diagnostic error %d was thrown.", QMEINVAL);

    std::cerr << "what: "          << err.what() << std::endl ;
    std::cerr << "error_message: " << err.error_message() << std::endl;
    std::cerr << std::endl ;


    throw err;

  } catch ( std::exception &err ) {
    std::cerr << err.what() << std::endl;
  } catch (... ) {
    std::cerr << "unexpected error occured." << std::endl;
  }

  return EXIT_SUCCESS;
}
